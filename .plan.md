# Sketchybar Modular Refactor & Feature Plan

## 1. Workspace (Aerospace) Widget
- Update on both custom event and periodic poll for robustness.
- Keep all logic in its own module.
- Use a single update function for workspace state.

## 2. Bar Flicker
- Audit all widgets for polling frequency.
- Set update intervals only where necessary.
- Ensure only changed items are redrawn.

## 3. Bar Placement (Ultrawide/No Notch)
- Add a utility module to detect display type.
- Set y_offset per display, using a helper function.

## 4. Volume Slider
- Add mouse.scrolled event to the volume icon/slider.
- Optionally, use mouse.entered to show a popup slider.
- All logic in the volume module, using shared update functions.

## 5. Nix Logo Folder Picker
- Add a click_script to the logo item that runs fd in ~/github (depth-limited).
- Use a helper function for folder listing.

## 6. Front App Widget
- Add mouse.entered to show a dynamic popup.
- Add click_script for quick actions.
- All logic in the front_app module, using shared menu rendering.

## 7. Volume Hover
- Use mouse.scrolled event for volume adjustment.
- Logic in the volume module.

## 8. Colors: Switch to JSON
- Store color schemes in a JSON file.
- Use a Lua JSON library to load and parse colors.
- Centralize color loading in a colors module.

All code must remain modular, DRY, and comment-free.
