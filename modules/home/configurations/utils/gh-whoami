#!/usr/bin/env bash
log_warn() {
  echo -e "\033[1;33mWARNING:\033[0m $*" >&2
}
log_error() {
  echo -e "\033[1;31mERROR:\033[0m $*" >&2
}
if command -v gh &> /dev/null; then
  username=$(gh api user --jq '.login' 2>/dev/null)
  if [[ -n "$username" ]]; then
    echo "$username"
  else
    log_warn "GitHub user not logged in"
    exit 1
  fi
else
  log_error "GitHub CLI not installed"
  exit 1
fi
